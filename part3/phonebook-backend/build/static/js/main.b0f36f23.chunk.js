(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{14:function(e,n,t){e.exports=t(36)},36:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(13),c=t.n(o),l=t(2),u=function(e){var n=e.person,t=e.handleDeleteClick;return r.a.createElement("div",null,r.a.createElement("p",null,n.name," ",n.number," ",r.a.createElement("button",{person:n,onClick:t},"delete")))},i=function(e){var n=e.persons,t=e.handlePersonDelete;return r.a.createElement("div",null,n.map((function(e){return r.a.createElement(u,{key:e.id,person:e,handleDeleteClick:function(n){return t(e)}})})))},s=function(e){return r.a.createElement("div",null,"filter shown with",r.a.createElement("input",{value:e.value,onChange:e.onchange}))},m=function(e){return r.a.createElement("form",null,r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:e.name,onChange:e.onnamechange})),r.a.createElement("div",null,"number: ",r.a.createElement("input",{value:e.number,onChange:e.onnumberchange})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit",onClick:e.onsubmit},"add")))},d=t(3),f=t.n(d),b=function(){return f.a.get("/api/persons").then((function(e){return e.data}))},p=function(e){return f.a.post("/api/persons",e).then((function(e){return e.data}))},h=function(e){return f.a.delete("".concat("/api/persons","/").concat(e)).then((function(e){return console.log(e),e.data}))},g=function(e){var n=e.message,t=e.type,a={padding:10,background:"lightgrey",border:"2px solid transparent",borderRadius:"5px"};return console.log("notification type",t),"alert"===t?(a.color="red",a.borderColor="red"):"success"===t&&(a.color="green",a.borderColor="green"),null===n?null:r.a.createElement("p",{style:a},n)},v=function(){var e=Object(a.useState)([]),n=Object(l.a)(e,2),t=n[0],o=n[1],c=Object(a.useState)(""),u=Object(l.a)(c,2),d=u[0],f=u[1],v=Object(a.useState)(""),E=Object(l.a)(v,2),j=E[0],O=E[1],k=Object(a.useState)(""),C=Object(l.a)(k,2),y=C[0],w=C[1],S=Object(a.useState)(null),D=Object(l.a)(S,2),x=D[0],P=D[1],I=Object(a.useState)("success"),J=Object(l.a)(I,2),L=J[0],T=J[1];Object(a.useEffect)((function(){b().then((function(e){console.log("promise fulfilled",e),o(e)}))}),[]);var A=function(){P(null)},B=t.filter((function(e){var n=e.name.toLowerCase().includes(y.toLowerCase());return console.log(n),n}));return r.a.createElement("div",null,r.a.createElement("h2",null,"Phonebook"),r.a.createElement(g,{message:x,type:L}),r.a.createElement(s,{value:y,onchange:function(e){w(e.target.value)}}),r.a.createElement("h2",null,"add a new"),r.a.createElement(m,{name:d,number:j,onnamechange:function(e){f(e.target.value)},onnumberchange:function(e){O(e.target.value)},onsubmit:function(e){e.preventDefault();var n={name:d,number:j};t.find((function(e){return e.name===d}))?alert("".concat(d," is already added to phonebook")):(p(n).then((function(e){return o(t.concat(e))})),T("success"),P("Added ".concat(d)),setTimeout(A,2e3),f(""),O(""),w(""))}}),r.a.createElement("h2",null,"Numbers"),r.a.createElement(i,{persons:B,handlePersonDelete:function(e){var n=e.id;console.log("delete person ",n),window.confirm("delete ".concat(e.name,"?"))&&h(n).then(o(t.filter((function(e){return e.id!==n})))).catch((function(n){T("alert"),P("Information of ".concat(e.name," has already been removed from server")),setTimeout(A,2e3)}))}}))};c.a.render(r.a.createElement(v,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.b0f36f23.chunk.js.map